# 计算机网络计算题（综合题）整理


## 考前模拟卷-001

1. 设网络中路由器使用 RIP 协议，路由器 B 的当前路由表如表 1 所示，B 收到从路由器 C 发来的路由信息如表 2 所示。试给出路由器 B 更新后的路由表。

   ![](https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/03/26/20200326204740.png)
   ![](https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/03/26/20200326204752.png)

   <div class="details admonition success">
       <div class="details-summary admonition-title"><i class="icon fas fa-check-circle fa-fw"></i>答案<i
               class="details-icon fas fa-angle-right fa-fw"></i></div>
       <div class=details-content>
           <div class=admonition-content><img src="https://cdn.jsdelivr.net/gh/blogimg/HexoStaticFile1/imgbed/2020/03/26/20200326212243.png"></div>
       </div>
   </div>

2. 有一个电缆长度为 1Km 的 CSMA/CD 局域网，信号传播速度为光速的 2/3，其最小帧长度为 1000bit。试求出数据传输速率。

   {{< admonition success "答案" false >}}

   信号传输速率 $v=3*10^8*2/3=2*10^8km/s$

   数据传输速率$R=L_{min}/(2d/v)=1000/(2*1000/(2*10^8))=10^8bit/s$

   {{< /admonition >}}

3. 假设某子网中的一个主机的 IP 地址是 203.123.1.135，子网掩码是 255.255.255.192。

   （1）那么该子网的子网地址是什么？

   （2）直接广播地址是什么？

   （3）该子网 IP 地址总数是多少？

   （4）该子网的可分配 IP 地址数是多少？

   （5）可分配地址范围是多少？

   

   {{< admonition success "答案" false >}}

   （1）答案：将 203.123.1.135 与 255.255.255.192 按位与运算，得到：203.123.1.128，为该子网的子网地址，即该子网为 203.123.1.128/26
   解析：只有给出子网地址中的某主机的 IP 地址和子网掩码或网络前缀，才能准确描述一个子网的规模。通过将该地址与子网掩码做按位与运算，就可以得到该子网的子网地址。子网掩码 255.255.255.192 的二进制表示为 11111111.11111111.11111111.11000000，与 203.123.1.135 进行按位与运算后，前 24 位结果与该地址一样，故只需转换后 8 位，该地址后 8 位二进制表示为 10000111，与子网掩码后 8 位 11000000 进行按位与运算结果为 10000000，转化为十进制是 128，故该子网为 203.123.1.128/26。

   （2）答案：该子网的直接广播地址是 203.123.1.191
   解析：利用子网掩码的反码与该地址做按位或运算，就可以得到该子网的直接广 播地址。按位或运算：只要对应的二个二进位有一个为 1 时，结果位就为 1。子 网掩码 255.255.255.192 的 二 进 制 表 示 为 11111111.11111111.11111111.11000000，子网掩码的反码的二进制表示为 00000000.00000000.00000000.00111111，所以与 203.123.1.135 进行按位或运 算后，前 24 位结果与该地址一样，故只需转换后 8 位，该地址后 8 位二进制表 示为 10000111，与 00111111 进行按位或运算的结果为 10111111，即是十进制 的 191，故结果为 203.123.1.191。

   （3）答案：该子网 IP 地址总数是 64
   解析：根据题 1 可得网络前缀有 26 位，故主机位有 32-26=6 位，即有 2^6=64 个 IP 地址总数。

   （4）答案：该子网的可分配 IP 地址数是 64-2=62
   解析：由于主机位全 0 表示本网络，全 1 留作广播地址，故每个网中，第一个 IP 地址（即主机部分全部为 0 的 IP）和最后一个 IP（即主机部分全部为 1 的 IP）不能分配给主机使用，所以每个子网的可用 IP 地址数为总 IP 地址数量减 2。

   （5）答案：可分配 IP 地址范围是：203.123.1.129〜203.123.1.190
   解析：该子网为 203.123.1.128/26，其转化为二进制的后 8 位的取值范围是 10000000~10111111，转化为十进制为 128~191，去掉收尾两个不可用的，故为 203.123.1.129〜203.123.1.190。

   {{< /admonition >}}



## 考前模拟卷-002

1. 已知发送方采用 CRC 校验方法，生成多项式$x^4+x^3+1$，若接收方收到的二进制数字序列为 101110110101，请判断数据传输过程中是否出错。

   {{< admonition success "答案" false >}}

   答案：101110110101/11001 余 110，余数不为 0，所以传输出错。
   解析：CRC 编码的基本思想是：将二进制位串看成是系数为 0 或 1 的多项式的系数。一个 k 位二进制数据可以看作是一个 k-1 次多项式的系数列表，该多项式共有 k 项，从$x^{(k-1)}$到$x^0$。这样的多项式被认为是 k-1 阶多项式。故多项式$x^4+x^3+1$对应的位串是 11001。假设一帧数据有 m 位，对应多项式 M（x），为了计算它的 CRC 编码，该帧必须比生成多项式长。基本思想是在帧的尾部附加一个校验和，使得附加校验和之后的帧所对应的多项式能够被 G（x）除尽。当接收方收到了带校验和的帧之后，用 G（x）去除它，如果余数不为 0，则表明传输过程中有错误，否则无错。故用收到的序列 101110110101 去除多项式对应的位串 11001，余数不为 0，故出错。

   {{< /admonition >}}

2. 有一受随机噪声干扰的信道，其带宽为 4KHz，信噪比为 30dB。试求出最大数据传输速率。

   {{< admonition success "答案" false >}}

   根据信噪比的换算关系$(\frac{S}{N})_{db} = 10 \log_{10}(\frac{S}{N})_{功率}$可得 $(\frac{S}{N})_{功率}= 10^{\frac{\frac{S}{N}_{db}}{10}} = 1000$ 带入香农公式可得$C=4000*\log2(1+1000)=4000*\log2(1001)\approx 40$Kbit/s

   {{< /admonition >}}

3. 下图是某个 TCP 连接（协议为 TCP\-Reno)的拥塞窗口随 RTT 的变化过程。请回 答 如 下 问 题 ：

   ![](https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/03/dcaf13141f2dc3f6a7e4bdd9efb4c7df.png)

   （1）第 1 个 RTT 时的拥塞窗口阈值是多少？

   {{< admonition success "答案" false >}}

   答案：16MSS
   解析：阈值（Threshold）：为了防止拥塞窗口增长过快引起网络阻塞，TCP 设置了阈值，用以分隔慢启动阶段和拥塞避免阶段。Threshold 的初值为 16MSS。故 0~10RTT，阈值都为 16MSS。

   {{< /admonition >}}

   （2）说明该过程中哪些时间段为慢启动阶段？

   {{< admonition success "答案" false >}}

   答案：0\~4 和 17\~20 时间段为慢启动阶段。
   解析：为了防止拥塞窗口增长过快而引起网络拥塞，TCP 设置一个拥塞窗口阈值 Threshold，“分割”慢启动阶段和拥塞避免阶段。当拥塞窗口小于 Threshold 时，拥塞窗口按慢启动方式增长，当拥塞窗口大于等于 Threshold 时，拥塞窗口切换为按拥塞避免方式增长。
   慢启动：收到一个确认，CongWin 值就加倍，即指数增长的时间段。拥塞避免：每经过一个 RTT，拥塞窗口 CongWin 的值增加 1MSS，即线性增长的时间段。
   故 0\~4 和 17\~20 时间段为慢启动阶段。

   {{< /admonition >}}

   （3）说明该过程中哪些时间段为拥塞避兔阶段？

   {{< admonition success "答案" false >}}

   答案：4\~10 和 11\~16 和 20\~25 时间段为拥塞避兔阶段。
   解析：为了防止拥塞窗口增长过快而引起网络拥塞，TCP 设置一个拥塞窗口阈值 Threshold，“分割”慢启动阶段和拥塞避免阶段。当拥塞窗口小于 Threshold 时，拥塞窗口按慢启动方式增长，当拥塞窗口大于等于 Threshold 时，拥塞窗口切换为按拥塞避免方式增长。
   慢启动：收到一个确认，CongWin 值就加倍，即指数增长的时间段。
   拥塞避免：每经过一个 RTT，拥塞窗口 CongWin 的值增加 1MSS，即线性增长的时间段。
   故 4\~10 和 11\~16 和 20\~25 时间段为拥塞避兔阶段。

   {{< /admonition >}}

   （4）第 10 个 RTT 时，发生了什么事件？拥塞窗口及其阈值大小如何变化？

   {{< admonition success "答案" false >}}

   答案：第 10 个 RTT 时，发送端连续收到 3 次重复确认，阈值 Threshold=22/2=11，拥塞窗口=11。
   解析：快速重传的基本思想是接收端收到 3 次重复确认时，则推断被重复确认的报文段已经丢失，于是立即发送被重复确认的报文段。3 次重复确认可以解读为网络拥塞程度不是很严重。拥塞窗口缩减的做法，不再重新从慢启动阶段开始，而是从新的阈值开始，直接进入拥塞避免阶段，这就是快速恢复的基本思想。快速恢复是配合快速重传使用的算法，具体做法是：当发送端连续收到 3 次重复确认时，将阈值 Threshold 减半，并且将拥塞窗口 CongWin 的值置为减半后的 Threshold，然后开始执行拥塞避免算法，使 CongWin 缓慢地加性增长。故第 10 个 RTT 时，发送端连续收到 3 次重复确认，阈值 Threshold=22/2=11，拥塞窗口=11。

   {{< /admonition >}}

   （5）第 16 个 RTT 时，发生了什么事件？拥塞窗口及其阈值大小如何变化？

   {{< admonition success "答案" false >}}

   答案：第 16 个 RTT 时，发送端发生了计时器超时，意味着网络发生了拥塞。阈值 Threshold=16/2=8，拥塞窗口=1。

   {{< /admonition >}}

   

   

## 考前模拟卷-003

1. 分别计算携带 40 字节和 400 字节数据的以太网帧的最大传输效率。(数据传输效率=数据长度／帧的总长度。要求写出计算过程，计算结果保留 3 位有效数字)

   {{< admonition success "答案" false >}}

   答案：携带40字节情况下的最大传输效率：$40\div（40+6+18）=62.5\%$；携带400字节情况下的最大传输效率：$400\div（400+18）=95.7\%$。
   解析：根据 CSMA/CD 协议的工作原理，可以求出以太网的最短帧长为 512 位，即64 字节，这也是为什么以太网帧中的数据字段最少要 46 字节（如果不足 46 字节，则需要填充）的原因。以太网帧结构如图所示
   ![image-20200410184446227](https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/10/b762db1452eb0cc5466b3549faf2ede1.png)
   若要传输的数据字段为 40 字节，不足 46 字节，故需要填充 6 个字节，再加上以 太网帧结构中必要的字节 $6+6+2+4=18$ 字节，帧的总长度共 64 字节，所以数据传 输效率$=40\div64=62.5\%$。若要传输的数据字段为 400 字节，大于 46 字节，故只需 要加上必要的 18 字节，帧的总长度共 418 字节，所以数据传输效率 =$400\div418=95.7\%$。

   {{< /admonition >}}

2. 有一个电缆长度为 1Km 的 CSMA/CD 局域网，信号传播速度为光速的 2/3，其最小帧长度为 1000bit。试求出数据传输速率。

   {{< admonition success "答案" false >}}

   答案：信号传输速率$ v = 3\times 10^8 \times 2\div3 = 2\times10^8 km/s$；数据传输速率$ R =  Lmin\times(2d \div v) = 1000\div (2 \times 1000 \div (2 \times 10^8)) = 10^8 bit/s$

   解析：使用CSMA/CD协议实现多路访问控制时，通过共享信道通信的两个通信站之间相距的最远距离、信号传播速度、数据帧长度以及信道信息传输速率之间要满足下列约束关系：

   ![](https://cdn.jsdelivr.net/gh/blogimg/picbed@master/2020/04/10/ac02fc466f293e5d9bd9883f18677408.png)

   ，式中Lmin为数据帧最小长度；R信息传输速率；Dmax为两通信站之间的最远距离；v为信号传播速度。本题中，信号传输速率$v = 3\times 10^8 \times 2\div3 = 2\times10^8 km/s$；数据传输速率$ R =  Lmin\times(2d \div v) = 1000\div (2 \times 1000 \div (2 \times 10^8)) = 10^8 bit/s$

   {{< /admonition >}}

3. 请将 IP 网络 12.34.56.0/24 划分为 3 个子网，要求：第一个子网的可分配IP 地址不少于 50 个，第二个子网的可分配 IP 地址不少于 60 个，第三个子网的可分配 IP 地址不少于 120 个。

   {{< admonition success "答案" false >}}

   **第一个子网的子网地址是 12.34.56.0，子网掩码是 255.255.255.192**，可分配 IP 地址数 为 62，可分配 IP 地址范围是：12.34.56.1/26-12.34.56.62/26；
   
   **第二个子网的子网地址是 12.34.56.64，子网掩码是 255.255.255.192**，可分配 IP 地址 数为 62，可分配 IP 地址范围是：12.34.56.65/26〜12.34.56.126/26；

   **第三个子网的子网地址是 12.34.56.128，子网掩码是 255.255.255.128**，可分配 IP 地址 数为 126，可分配 IP 地址范围是：12.34.56.129/25〜12.34.56.254/25。
   
   {{< /admonition >}}




